# üî¨ Science Dating

Telegram Mini App –¥–ª—è –∑–Ω–∞–∫–æ–º—Å—Ç–≤ —Å—Ä–µ–¥–∏ —É—á–µ–Ω—ã—Ö –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–µ–ø–ª–æ–π –Ω–∞ Render

#### 1. Static Site (WebApp)
- **Type**: Static Site
- **Name**: `science-dating-web`
- **Publish Directory**: `web`
- **URL**: `https://science-dating-web.onrender.com` (—Å—Ç–∞–Ω–µ—Ç WEBAPP_URL)

#### 2. Web Service (Bot)
- **Type**: Web Service
- **Name**: `science-dating-bot`
- **Environment**: Python
- **Build Command**: `pip install -r requirements.txt`
- **Start Command**: `uvicorn bot.main:app --host 0.0.0.0 --port $PORT`

#### 3. Environment Variables
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –±–æ—Ç–∞:

```
BOT_TOKEN=your_telegram_bot_token
WEBAPP_URL=https://science-dating-web.onrender.com
PUBLIC_URL=https://science-dating-bot.onrender.com
```

**–í–∞–∂–Ω–æ**: –°–Ω–∞—á–∞–ª–∞ –æ—Å—Ç–∞–≤—å—Ç–µ `PUBLIC_URL` –ø—É—Å—Ç—ã–º, –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ External URL –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–∞–∫ `PUBLIC_URL`, –∑–∞—Ç–µ–º —Å–¥–µ–ª–∞–π—Ç–µ redeploy.

## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.11+
- Telegram Bot Token

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
cd science-dating
pip install -r requirements.txt
```

### –ó–∞–ø—É—Å–∫
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export BOT_TOKEN=your_bot_token
export WEBAPP_URL=http://localhost:3000  # –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
cd bot
python main.py
```

## üì± –§—É–Ω–∫—Ü–∏–∏ WebApp

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã
1. **–õ–µ–Ω–¥–∏–Ω–≥** - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
2. **–õ–µ–Ω—Ç–∞/–°–≤–∞–π–ø—ã** - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
3. **–ú–∞—Ç—á** - –æ–≤–µ—Ä–ª–µ–π –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤
4. **–ß–∞—Ç** - –æ–±—â–µ–Ω–∏–µ —Å –º–∞—Ç—á–∞–º–∏
5. **–ü—Ä–æ—Ñ–∏–ª—å** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
6. **–ü–∞–Ω–µ–ª—å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–º–∏

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –ú–æ–±–∏–ª—å–Ω—ã–π UI 9:16 —Å —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram WebApp SDK
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã
- ‚úÖ –ê–≤—Ç–æ–ª–æ–≥–∏–Ω —á–µ—Ä–µ–∑ Telegram –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (localStorage)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–≤–∞—Ç–∞—Ä–æ–≤ –ø–æ –∏–Ω–∏—Ü–∏–∞–ª–∞–º
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

## ü§ñ –§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞

### –ö–æ–º–∞–Ω–¥—ã
- `/start` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–æ–π WebApp
- `/demo` - –¥–µ–º–æ-—Ä–µ–∂–∏–º —Å –≥–æ—Ç–æ–≤—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- `/help` - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ Webhook –¥–ª—è production
- ‚úÖ Polling –¥–ª—è development
- ‚úÖ Menu Button WebApp
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### WebApp
1. –û—Ç–∫—Ä–æ–π—Ç–µ `WEBAPP_URL` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü—Ä–æ–π–¥–∏—Ç–µ age-gate (18+)
3. –ù–∞–∂–º–∏—Ç–µ "–ë—ã—Å—Ç—Ä—ã–π –¥–µ–º–æ-—Ä–µ–∂–∏–º"
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–≤–∞–π–ø—ã, —Ñ–∏–ª—å—Ç—Ä—ã, –º–∞—Ç—á–∏
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–∞—Ç –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
6. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–Ω–µ–ª—å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π

### Telegram Bot
1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`, `/demo`, `/help`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏—Ö–æ–¥—è—Ç –∫–Ω–æ–ø–∫–∏ WebApp
4. –í –º–µ–Ω—é —á–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ "Science Dating"

### Webhook (Production)
```bash
curl https://api.telegram.org/bot<TOKEN>/getWebhookInfo
```
–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
- `url`: `PUBLIC_URL/webhook/<TOKEN>`
- `last_error_date`: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- `last_error_message`: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Frontend
- –ß–∏—Å—Ç—ã–π HTML/CSS/JavaScript
- Telegram WebApp SDK
- localStorage –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- Canvas –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–≤–∞—Ç–∞—Ä–æ–≤
- Responsive –¥–∏–∑–∞–π–Ω

### Backend
- Python 3.11+
- aiogram v3 –¥–ª—è Telegram Bot API
- FastAPI –¥–ª—è webhook
- uvicorn –¥–ª—è ASGI —Å–µ—Ä–≤–µ—Ä–∞

### –î–µ–ø–ª–æ–π
- Render.com –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞
- Static Site –¥–ª—è WebApp
- Web Service –¥–ª—è –±–æ—Ç–∞
- Environment variables –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
science-dating/
‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îî‚îÄ‚îÄ index.html          # WebApp (–æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îî‚îÄ‚îÄ main.py             # Telegram –±–æ—Ç + FastAPI
‚îú‚îÄ‚îÄ requirements.txt        # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ render.yaml            # Blueprint –¥–ª—è Render
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### WebApp –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ Telegram
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ WEBAPP_URL –¥–æ—Å—Ç—É–ø–µ–Ω
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ WebApp

### Webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PUBLIC_URL –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –¥–ª—è —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PUBLIC_URL –Ω–∞ ngrok URL
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –¥–ª—è —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.
